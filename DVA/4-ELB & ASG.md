## ELB 


- 실습시 확인사항, ELB 보안그룹 현황 (표로 작성하자)
  - 표에 들어갈 내용
    - 보안 그룹 여부, 패킷 검사 여부, 지원 인터넷 레이어, 상태 체크 프로토콜, EIP 할당 여부
  - 60강 3분 30초, 스키마중 인터넷 패이씽이랑 이터널, ip 주소 타입 뭔지 보자
  - 62강 1분 50초, NLB 룰에 대해 알아보자
- aws-hyoh.tistory.com/135



- ALB
  - HTTP/s, `websocket, gRPC` (OSI 레이어 7에서 작동)
  - `보안 그룹 지원`
  - `EIP 할당 불가`
  - 경로,호스트네임,`쿼리&헤더 기반 라우팅` 제공
  - 로드밸런스 타겟 그룹 (`다수 지정 가능`)
    - ECS,Ec2 & ASG
    - `람다함수도 타겟으로 가능함`
    - `프라이빗 IP`
  - 실제 클라이언트 IP는 `X-Forwarded-For 헤더에 삽입`됨
    - X-Forwarded-Port 클라이언트 전송 포트, X-Forwarded-proto 프로토콜

<br><br><br><br>

- NLB
  - TCP, UDP (OSI 레이어 4에서 작동, `3 아님!`)
  - `보안 그룹 지원 X`, 타겟 그룹에 `패킷이 바로 전달됨`
  - NLB를 만들때, `고정 IP를 할당 해야 됨`
    - 기본값은 AWS 자동 할당
    - EIP 연결 가능
  - 로드밸런스 타겟 그룹
    - Ec2 인스턴스
    - `프라이빗 IP`
    - `ALB`
    - `람다 함수`
  - 상태체크는 TCP,`HTPP/S 프로토콜` 총 3가지 지원


<br><br><br><br>


- GWLB (GateWay Loadbalancer)
  - OSI 레이어 3에서 작동 => `ip 패킷`
  - 모든 트래픽 검사, 분석, 처리
  - `6081포트 (GENEVE 프로토콜) 사용함`








ELB 고정 세션
- 기본적으로 고정세션을 위한 `쿠키를 사용`
- 세션 데이터를 잃지않기 위해 사용
- 세션 쿠키네임 및 사용법, 쿠키 기간 (65강 2분30초 참조) 기간기반 쿠키, 애플리케이션 기반 쿠키
- 65강 3분 30초 설정하는거 자세히 보자



Cross-zone 밸런싱
- ALB는 기본적으로 활성화됨 (사용에 돈 안듬)
- NLB는 활성화 시켜줘야하고 ( 사용에 돈듬)



- SSL / TLS 인증서

  - SNI - 하나의 웹서버에 여러 SSL 인증서를 로드해 여러 웹사이트 지원
    -  ALB,NLB, `cloudfront`에 붙일 수있음
  - 인증서는 AWS ACM, `IAM`, 직접 입력으로 등록 가능 


- ASG 
  - 70강 시작 템플릿 그림 넣기 (3분 10초)
  - 71강 실습 3분 30초, ASG 상태 체크 (ELB도 있음)
  - ASG 인스턴스 새로 고침 (refresh)
    - 일종의 롤아웃 배포라고 보면됨 (비율 정해서 롤아웃으로 배포됨 74강 1분 그림 참조)






