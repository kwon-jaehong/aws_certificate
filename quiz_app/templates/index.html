<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap 4</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    />
    <style>
      p {
        margin: 20px 0px;
      }
    </style>
  </head>
  <body>
    <div class="container mt-5">
      <div class="d-flex justify-content-center row">
        <div class="col-md-10 col-lg-10">
          <div class="border">
            <div class="question bg-white p-3 border-bottom">
              <div
                class="d-flex flex-row justify-content-between align-items-center mcq"
              >
                <h4>
                  {% if quiz_data.exam_category=="udemy" %}
                  {{ ((quiz_data.quiz_id/65)+1)|int }}챕터 - {{(quiz_data.quiz_id % 65)}} 
                  {% else %}
                    {{quiz_data.quiz_id}}
                  {% endif %} 
                </h4>
                
                {% if quiz_data.is_correct %}
                <h1 class="text-danger">
                  {% if quiz_data.is_correct==1 %}
                    X 정답은{{quiz_data.most_vote}}
                  {% elif quiz_data.is_correct==2 %}
                    O 정답은{{quiz_data.most_vote}}
                  {% endif %} 

                </h1>
                {% endif %} 
                
                {% if quiz_data.c_count %}

                <span> {{quiz_data.c_count}}/{{session.current_quiz_count}} </span>
                {% endif %} 

                <span>진행상황 ({{session.current_quiz_count}} of 65)</span>
              </div>
            </div>

            {% if not session.Hide_KO_quiz %}

            <div class="question bg-white p-3 border-bottom">
              <div class="d-flex flex-row align-items-center question-title">
                <h3 class="text-danger">Q.</h3>
                <h6 class="mt-1 ml-2">{{quiz_data.ko_quiz_title}}</h5>
              </div>
              <hr></hr>
              {% endif %} 
              


              {% if not session.Hide_EN_quiz %}
              <div class="d-flex flex-row align-items-center question-title">
                <h3 class="text-danger">Q.</h3>
                <h6 class="mt-1 ml-2">{{quiz_data.en_quiz_title}}</h5>
              </div>
              <hr></hr>
              {% endif %}
              
              <form method="post" >
              {% if quiz_data.en_A %}
              <div class="ans ml-2 ">
                <label class="checkbox">
                  <input type="checkbox" name="A" value="True" {% if quiz_data.A_C %} checked {% endif %}/>
                  <span>A. </span>
                  {% if not session.Hide_KO_choice %}
                  <span>{{quiz_data.ko_A}}</span>
                  {% endif %}

                  {% if not session.Hide_EN_choice %}
                  <br>
                  <span>{{quiz_data.en_A}}</span>
                  <br>
                  <br>
                  {% endif %}
                </label>
              </div>
              {% endif %}


              {% if quiz_data.en_B %}
              <div class="ans ml-2 ">
                <label class="checkbox">
                  <input type="checkbox" name="B" value="True" {% if quiz_data.B_C %} checked {% endif %}/>
                  <span>B. </span>
                  {% if not session.Hide_KO_choice %}
                  <span>{{quiz_data.ko_B}}</span>
                  {% endif %}

                  {% if not session.Hide_EN_choice %}
                  <br>
                  <span>{{quiz_data.en_B}}</span>
                  <br>
                  <br>
                  {% endif %}
                </label>
              </div>
              {% endif %}


              {% if quiz_data.en_C %}
              <div class="ans ml-2 ">
                <label class="checkbox">
                  <input type="checkbox" name="C" value="True" {% if quiz_data.C_C %} checked {% endif %} />
                  <span>C. </span>
                  {% if not session.Hide_KO_choice %}
                  <span>{{quiz_data.ko_C}}</span>
                  {% endif %}

                  {% if not session.Hide_EN_choice %}
                  <br>
                  <span>{{quiz_data.en_C}}</span>
                  <br>
                  <br>
                  {% endif %}
                </label>
              </div>
              {% endif %}



              {% if quiz_data.en_D %}
              <div class="ans ml-2 ">
                <label class="checkbox">
                  <input type="checkbox" name="D" value="True" {% if quiz_data.D_C %} checked {% endif %}/>
                  <span>D. </span>
                  {% if not session.Hide_KO_choice %}
                  <span>{{quiz_data.ko_D}}</span>
                  {% endif %}

                  {% if not session.Hide_EN_choice %}
                  <br>
                  <span>{{quiz_data.en_D}}</span>
                  <br>
                  <br>
                  {% endif %}
                </label>
              </div>
              {% endif %}

              {% if quiz_data.en_E %}
              <div class="ans ml-2 ">
                <label class="checkbox">
                  <input type="checkbox" name="E" value="True" {% if quiz_data.E_C %} checked {% endif %}/>
                  <span>E. </span>
                  {% if not session.Hide_KO_choice %}
                  <span>{{quiz_data.ko_E}}</span>
                  {% endif %}

                  {% if not session.Hide_EN_choice %}
                  <br>
                  <span>{{quiz_data.en_E}}</span>
                  <br>
                  <br>
                  {% endif %}
                </label>
              </div>
              {% endif %}



            </div>



            <div
            class="d-flex flex-row justify-content-between align-items-center p-3 bg-white border-bottom"
          >
          <label for="subject"> 
            카테고리입력&nbsp;
            1-클라우드 개념&nbsp;
            2-보안 및 규정 준수&nbsp;
            3-기술 &nbsp;
            4-결제 및 요금제&nbsp;  </label>
          <input type="text" name="subject"  pattern="[0-9]+" title="Please enter numbers only" value={{quiz_data.subject}}>
        </div>


            <div
              class="d-flex flex-row justify-content-between align-items-center p-3 bg-white border-bottom"
            >
              <button
                class="btn btn-primary d-flex align-items-center btn-danger"
                type="submit" formaction="/previous"
              >
                <i class="fa fa-angle-left mt-1 mr-1"></i>&nbsp;이전</button
              >

              <button
                class="btn btn-primary d-flex align-items-center btn-danger"
                type="submit" formaction="/check"
              >
                <i class="fa fa-angle-center mt-1 mr-1"></i>&nbsp;확인</button
              >
              
              <button
                class="btn btn-primary border-success align-items-center btn-success"
                type="submit" formaction="/next"
              >
                다음<i class="fa fa-angle-right ml-2"></i>
              </button>
            </form>
            </div>





            <div
              class="d-flex flex-row  p-3 bg-white"
            >
            
            <p>
              틀린문제 :  
            </p> 
            <br>

            
              {% for key, value in session.solution_history.items() %}

                {% if value == 1 %}
                

                {% if quiz_data.exam_category=="udemy" %}
                
                <p> {{key}}, </p>
                {# <p>{{ ((key|int/65)+1)|int }}챕터-{{(quiz_data.quiz_id % 65)}},</p> #}

                {% else %}
                 <p> {{key}}, </p>
                {% endif %} 

                {% endif %}

               {% endfor  %} 
              

              </form>

            </div>

            
          </div>
        </div>
      </div>
    </div>
    <div>
    
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  </body>
</html>
